결과 파일: C:\Users\USER\Desktop\autotrade\test_results\websocket_test_20251101_162438.txt

⚠️  주의: WebSocket 테스트는 장 시작 시간(9:00-15:30)에만 작동합니다
⚠️  장 외 시간에는 실시간 데이터가 수신되지 않을 수 있습니다

테스트를 시작하시겠습니까? (y/n): ================================================================================
WebSocket 구독 기능 테스트
================================================================================
시작 시간: 2025-11-01 16:24:41

WebSocket 연결 중...
URL: wss://api.kiwoom.com:10000/api/dostk/websocket
✅ WebSocket 연결 성공

실시간 가격 구독: 005930

실시간 호가 구독: 005930

실시간 지수 구독: 0001

실시간 데이터 수신 중... (30초)
--------------------------------------------------------------------------------
[1] 16:24:43 - Unknown
  Data: {}...
[2] 16:24:43 - Unknown
  Data: {}...
[3] 16:24:43 - Unknown
  Data: {}...
[4] 16:24:53 - Unknown
  Data: {}...
❌ 수신 오류: received 1000 (OK) Bye; then sent 1000 (OK) Bye
--------------------------------------------------------------------------------
총 4개 메시지 수신
Traceback (most recent call last):
  File "C:\Users\USER\Desktop\autotrade\test_websocket.py", line 313, in <module>
    asyncio.run(main())
    ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\USER\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\USER\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\USER\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "C:\Users\USER\Desktop\autotrade\test_websocket.py", line 286, in main
    await tester.run_test()
  File "C:\Users\USER\Desktop\autotrade\test_websocket.py", line 276, in run_test
    await self.disconnect()
  File "C:\Users\USER\Desktop\autotrade\test_websocket.py", line 227, in disconnect
    if not self.ws.closed:
           ^^^^^^^^^^^^^^
AttributeError: 'ClientConnection' object has no attribute 'closed'. Did you mean: 'close'?

C:\Users\USER\Desktop\autotrade>
